services:
    App\Infrastructure\Api\AccessToken\TokenChange:
        class: 'App\Infrastructure\Api\AccessToken\TokenChange'
        arguments:
            - '@repository.access_token'
            - '@logger'

    App\Infrastructure\Twitter\Api\Accessor\OwnershipAccessor:
        class: 'App\Infrastructure\Twitter\Api\Accessor\OwnershipAccessor'
        arguments:
            - '@App\Twitter\Api\Accessor'
            - '@repository.access_token'
            - '@App\Infrastructure\Api\AccessToken\TokenChange'
            - '@logger'
        calls:
            - [ 'setOwnershipBatchCollectedEventRepository', [ '@App\Infrastructure\Curation\Repository\OwnershipBatchCollectedEventRepository'] ]

    App\Infrastructure\Twitter\Api\Accessor\MemberProfileAccessor:
        class: 'App\Infrastructure\Twitter\Api\Accessor\MemberProfileAccessor'
        arguments:
            - '@App\Twitter\Api\Accessor'
            - '@user_manager'
            - '@App\Infrastructure\Twitter\Api\UnavailableResourceHandler'
        calls:
            - [ 'setMemberProfileCollectedEventRepository', [ '@App\Infrastructure\Curation\Repository\MemberProfileCollectedEventRepository'] ]